{% extends '::base2.html.twig' %}
{% block title %}Consulta empleados detalle - Soga App{% endblock %}
{% block content %}
    <div class="container">
        <div class="page-header">
            <h3>Detalles del empleado</h3>
        </div>
        {{ form_start(form, { 'attr': {'class': 'form-horizontal', 'novalidate': 'novalidate'} }) }}
        {{ form_errors(form) }}

        <br /> <br />
        <div class="panel panel-default">
            <div class="panel-heading">Información empleado</div>
            <div class="panel-body">
                <table width="100%" class="table table-condensed table-bordered">
                    <tr>
                        <td class="titulo">CÓDIGO:</td>
                        <td class="td-in-well">{{ arEmpleado.codigoEmpleadoPk }}</td>
                        <td class="titulo">LIBRETA MILITAR:</td>
                        {% if arEmpleado.codigoTipoLibreta == 1 %}<td class="td-in-well">1° CLASE</td>{% endif %}
                        {% if arEmpleado.codigoTipoLibreta == 2 %}<td class="td-in-well">2° CLASE</td>{% endif %}
                        {% if arEmpleado.codigoTipoLibreta == 0 %}<td class="td-in-well">NO APLICA</td>{% endif %}
                        <td class="titulo">DIRECCIÓN:</td>
                        <td class="td-in-well">{{ arEmpleado.direccion }}</td>
                    </tr>
                    <tr>
                        <td class="titulo">NOMBRE:</td>
                        <td class="td-in-well">{{ arEmpleado.nombreCorto }}</td>
                        <td class="titulo">CELULAR:</td>
                        <td class="td-in-well">{{ arEmpleado.celular }}</td>
                        <td class="titulo">BARRIO:</td>
                        <td class="td-in-well">{{ arEmpleado.barrio }}</td>
                    </tr>
                    <tr>
                        <td class="titulo">IDENTIFICACIÓN:</td>
                        <td class="td-in-well">{{ arEmpleado.numeroIdentificacion }}</td>
                        <td class="titulo">TELEFONO:</td>
                        <td class="td-in-well">{{ arEmpleado.telefono }}</td>
                        <td class="titulo">CIUDAD:</td>
                        <td class="td-in-well">{{ arEmpleado.ciudadRel.nombre|default('SIN CONTRATO') }}</td>
                    </tr>
                    <tr>
                        <td class="titulo">ESTADO CIVIL:</td>
                        <td class="td-in-well">{{ arEmpleado.estadoCivilRel.nombre }}</td>
                        <td class="titulo">SEXO:</td>
                        <td class="td-in-well">{% if arEmpleado.codigoSexoFk == "M" %} MASCULINO {% else %} FEMENINO{% endif %}</td>
                        <td class="titulo">RH:</td>
                        <td class="td-in-well">{{ arEmpleado.rhRel.tipo }}</td>
                    </tr>
                    <tr>
                        <td class="titulo">FECHA NACIMIENTO:</td>
                        <td class="td-in-well">{{ arEmpleado.fechaNacimiento|date("Y/m/d") }}</td>
                        <td class="titulo">CLASIFICACION RIESGO:</td>
                        <td class="td-in-well">{{ arEmpleado.clasificacionRiesgoRel.nombre|default('SIN CONTRATO') }}</td>
                        <td class="titulo">CORREO:</td>
                        <td class="td-in-well">{{ arEmpleado.correo }}</td>
                    </tr>
                    <tr>
                        <td class="titulo">TIPO PENSIÓN:</td>
                        <td class="td-in-well">{{ arEmpleado.tipoPensionRel.nombre|default('SIN CONTRATO') }}</td>
                        <td class="titulo">TIPO SALUD:</td>
                        <td class="td-in-well">{{ arEmpleado.tipoSaludRel.nombre|default('SIN CONTRATO') }}</td>
                        <td class="titulo">DISCAPACIDAD</td>
                        <td class="td-in-well">{% if arEmpleado.discapacidad == 1 %} SI {% else %} NO{% endif %}</td>
                    </tr>
                    <tr>
                        <td class="titulo">ENTIDAD PENSIÓN:</td>
                        <td>{{ arEmpleado.entidadPensionRel.nombre|default('SIN CONTRATO') }}</td>
                        <td class="titulo">CARGO:</td>
                        <td class="td-in-well">{{ arEmpleado.cargoRel.nombre|default('SIN CONTRATO') }}</td>
                        <td class="titulo">DESCRIPCIÓN CARGO:</td>
                        <td class="td-in-well">{{ arEmpleado.cargoDescripcion }}</td>
                    </tr>
                    <tr>
                        <td class="titulo">ENTIDAD SALUD:</td>
                        <td class="td-in-well">{{ arEmpleado.entidadSaludRel.nombre|default('SIN CONTRATO') }}</td>
                        <td class="titulo">AUXILIO TRANSPORTE:</td>
                        <td class="td-in-well">{% if arEmpleado.auxilioTransporte == 1 %} SI {% else %} NO{% endif %}</td>
                        <td class="titulo">PADRE FAMILIA:</td>
                        <td class="td-in-well">{% if arEmpleado.padreFamilia == 1 %} SI {% else %} NO{% endif %}</td>
                    </tr>
                    <tr>
                        <td class="titulo">CAJA COMPENSACIÓN:</td>
                        <td class="td-in-well">{{ arEmpleado.entidadCajaRel.nombre|default('SIN CONTRATO') }}</td>
                        <td class="titulo">NÚMERO CUENTA:</td>
                        <td class="td-in-well">{{ arEmpleado.cuenta }}</td>
                        <td class="titulo">CABEZA FAMILIA:</td>
                        <td class="td-in-well">{% if arEmpleado.cabezaHogar == 1 %} SI {% else %} NO{% endif %}</td>
                    </tr>
                    <tr>
                        <td class="titulo">ENTIDAD CENSANTIA:</td>
                        <td class="td-in-well">{{ arEmpleado.entidadCesantiaRel.nombre |default('') }}</td>
                        <td class="titulo">TIPO CUENTA:</td>
                        <td class="td-in-well">{% if arEmpleado.tipocuenta == "S" %}AHORRO{% else %}{% if arEmpleado.tipoCuenta == "D" %}CORRIENTE{% else %}SIN TIPO CUENTA{% endif%}{% endif %}</td>
                        <td class="titulo">AUXILIO TRANSPORTE:</td>
                        <td class="td-in-well">{% if arEmpleado.auxilioTransporte == 1 %} SI {% else %} NO{% endif %}</td>
                    </tr>
                    <tr>
                        <td class="titulo">HORARIO:</td>
                        <td><a href="{{ path('brs_rhu_base_horario_listar') }}" target="_blanck" >{{ arEmpleado.horarioRel.nombre|default('SIN HORARIO')  }}</a></td>
                        <td class="titulo">BANCO</td>
                        <td class="td-in-well">{{ arEmpleado.bancoRel.nombre | default('') }}</td>
                        <td class="titulo">DV</td>
                        <td class="td-in-well">{{ arEmpleado.digitoVerificacion }}</td>
                    </tr>
                    <tr>
                        <td class="titulo">TIPO EMPLEADO:</td>
                        <td>{{ arEmpleado.empleadoTipoRel.nombre|default('') }}</td>
                        <td class="titulo">ZONA:</td>
                        <td class="td-in-well">{{ arEmpleado.zonaRel.nombre|default('') }}</td>
                        <td class="titulo">SUB ZONA:</td>
                        <td class="td-in-well">{{ arEmpleado.subZonaRel.nombre|default('') }}</td>
                    </tr>
                    <tr>
                        <td class="titulo" >COMENTARIOS: </td>
                        <td class="td-in-well" colspan="7">{{ arEmpleado.comentarios }}</td>
                    </tr>
                </table>
            </div>
        </div> 
        <a name="marcador"></a>
        <ul class="nav nav-tabs">
            <li class="active"><a href="#contrato" data-toggle="tab">Contratos</a></li>
            <li><a href="#credito" data-toggle="tab">Créditos</a></li>
            <li><a href="#incapacidades" data-toggle="tab">Incapacidades</a></li>
            <li><a href="#licencias" data-toggle="tab">Licencias</a></li>
            <li><a href="#procesosDisciplinarios" data-toggle="tab">Procesos disciplinarios</a></li>
            <li><a href="#vacaciones" data-toggle="tab">Vacaciones</a></li>
            <li><a href="#estudios" data-toggle="tab">Estudios</a></li>
            <li><a href="#familia" data-toggle="tab">Familia</a></li>
            <li><a href="#dotacion" data-toggle="tab">Dotación</a></li>
        </ul>
        <div class="tab-content">
            <div class="tab-pane active" id="contrato">
                <br />
                <table class="table table-striped table-bordered table-condensed">
                    <tr>
                        <th>{{ knp_pagination_sortable(arContratos, 'CÓDIGO', 'e.codigoContratoPk') }}</th>
                        <th>TIPO</th>
                        <th>FECHA</th>
                        <th>NÚMERO</th>
                        <th>GRUPO PAGO</th>
                        <th>TIEMPO</th>
                        <th>DESDE</th>
                        <th>HASTA</th>                        
                        <th>CARGO</th>
                        <th>D. CARGO</th>
                        <th>C. RIESGO</th>
                        <th>VIGENTE</th>
                    </tr>
                    {% for arContratos in arContratos %}
                        <tr>
                            <td><input type="hidden" name="LblCodigo[]" value="{{ arContratos.codigoContratoPk }}">{{ arContratos.codigoContratoPk }} </td>
                            <td>{{ arContratos.contratoTipoRel.nombre|default('SIN TIPO')  }}</td>
                            <td>{{ arContratos.fecha |date("Y/m/d")  }}</td>
                            <td>{{ arContratos.numero  }}</td>
                            <td>{{ arContratos.centroCostoRel.nombre  }}</td>
                            <td>{{ arContratos.tipoTiempoRel.nombre  }}</td>
                            <td>{{ arContratos.fechaDesde |date("Y/m/d")  }}</td>
                            <td>{% if arContratos.indefinido == 1 %} INDEFINIDO {% else %} {{ arContratos.fechaHasta |date("Y/m/d")  }} {% endif %}</td>                            
                            <td>{{ arContratos.cargoRel.nombre|default('SIN CONTRATO')  }}</td>
                            <td>{{ arContratos.cargoDescripcion  }}</td>
                            <td>{{ arContratos.clasificacionRiesgoRel.nombre|default('SIN CONTRATO') }}</td>
                            <td>{% if arContratos.estadoActivo == 1 %} SI {% else %} NO {% endif %}</td>
                        </tr>
                    {% endfor %}
                </table>

                <div class="btn-toolbar" style="float: left">
                    {{ knp_pagination_render(arContratos) }}
                </div>
                <div class="btn-toolbar" style="float: right">
                </div>
            </div>

            <div class="tab-pane" id="credito">
                <br />
                <table  class="table table-striped table-bordered table-condensed table-hover">
                    <tr>
                        <th>{{ knp_pagination_sortable(arCreditos, 'CÓDIGO', 'e.codigoCreditoPk') }}</th>
                        <th>TIPO</th>
                        <th>FECHA</th>
                        <th style="text-align: right">VR. CREDITO</th>
                        <th style="text-align: right">VR. CUOTA</th>
                        <th style="text-align: right">VR. SEGURO</th>
                        <th style="text-align: right">CUOTAS</th>
                        <th style="text-align: right">C. ACTUAL</th>
                        <th style="text-align: center">PAGADO</th>
                        <th style="text-align: center">APROBADO</th>
                        <th style="text-align: center">SUSPENDIDO</th>
                    </tr>
                    {% for arCreditos in arCreditos %}
                        <tr>
                            <td><input type="hidden" name="LblCodigo[]" value="{{ arCreditos.codigoCreditoPk }}">{{ arCreditos.codigoCreditoPk }} </td>
                            <td>{{ arCreditos.creditoTipoRel.nombre  }}</td>
                            <td>{{ arCreditos.fecha |date("Y/m/d")  }}</td>
                            <td style="text-align: right">{{ arCreditos.VrPagar | number_format(2, '.', ',') }}</td>
                            <td style="text-align: right">{{ (arCreditos.VrCuota) | number_format(2, '.', ',') }}</td>
                            <td style="text-align: right">{{ arCreditos.Seguro | number_format(2, '.', ',') }}</td>
                            <td style="text-align: right">{{ arCreditos.numeroCuotas | number_format(0, '.', ',') }}</td>
                            <td style="text-align: right">{{ arCreditos.numeroCuotaActual | number_format(0, '.', ',') }}</td>
                            <td {% if arCreditos.estadopagado == 1 %}class="success">SI{% else %}<td class="danger"> NO {% endif %}</td>
                            <td {% if arCreditos.Aprobado == 1 %}class="success">SI{% else %}<td class="danger"> NO {% endif %}</td>
                            <td {% if arCreditos.estadoSuspendido == 1 %}class="success">SI{% else %}<td class="danger"> NO {% endif %}</td>
                        </tr>
                    {% endfor %}
                </table>
                <div class="btn-toolbar" style="float: left">
                    {{ knp_pagination_render(arCreditos) }}
                </div>
            </div>

            <div class="tab-pane" id="incapacidades">
                <br />
                <table class="table table-striped table-bordered table-condensed">
                    <tr>
                        <th>{{ knp_pagination_sortable(arIncapacidades, 'CÓDIGO', 'e.codigoIncapacidadPk') }}</th>
                        <th>TIPO</th>
                        <th>DIAGNÓSTICO</th>
                        <th>DESDE</th>
                        <th>HASTA</th>
                        <th>DÍAS</th>                        
                        <th>TRANSCRIPCIÓN</th>
                        <th>COBRAR</th>
                        <th>PRORROGA</th>
                        <th>VALOR</th>
                    </tr>
                    {% for arIncapacidades in arIncapacidades %}
                        <tr>
                            <td><input type="hidden" name="LblCodigo[]" value="{{ arIncapacidades.codigoIncapacidadPk }}">{{ arIncapacidades.codigoIncapacidadPk }} </td>
                            <td>{{ arIncapacidades.incapacidadTipoRel.nombre  }}</td>
                            <td>{{ arIncapacidades.incapacidadDiagnosticoRel.nombre  }}</td>
                            <td>{{ arIncapacidades.fechaDesde |date("Y/m/d")  }}</td>
                            <td>{{ arIncapacidades.fechaHasta |date("Y/m/d")  }}</td>
                            <td style="text-align: right">{{ arIncapacidades.cantidad | number_format(0, '.', ',') }}</td>                            
                            <td>{% if arIncapacidades.estadoTranscripcion == 1 %}SI {% else %}NO {% endif %}</td>
                            <td>{% if arIncapacidades.estadoCobrar == 1 %}SI {% else %}NO {% endif %}</td>
                            <td>{% if arIncapacidades.estadoProrroga == 1 %}SI {% else %}NO {% endif %}</td>
                            <td style="text-align: right">{{ arIncapacidades.vrIncapacidad | number_format(0, '.', ',') }}</td>                            
                        </tr>
                    {% endfor %}
                </table>
                <div class="btn-toolbar" style="float: left">
                    {{ knp_pagination_render(arIncapacidades) }}
                </div>
            </div>

            <div class="tab-pane" id="licencias">
                <br />
                <table class="table table-striped table-bordered table-condensed">
                    <tr>
                        <th>{{ knp_pagination_sortable(arLicencias, 'CÓDIGO', 'e.codigoLicenciaPk') }}</th>
                        <th>TIPO</th>
                        <th>DESDE</th>
                        <th>HASTA</th>
                        <th>DÍAS</th>
                        <th>AFECTA TRANSPORTE</th>                        
                        <th>COMENTARIOS</th>
                    </tr>
                    {% for arLicencias in arLicencias %}
                        <tr>
                            <td><input type="hidden" name="LblCodigo[]" value="{{ arLicencias.codigoLicenciaPk }}">{{ arLicencias.codigoLicenciaPk }} </td>
                            <td>{{ arLicencias.licenciaTipoRel.nombre  }}</td>
                            <td>{{ arLicencias.fechaDesde |date("Y/m/d")  }}</td>
                            <td>{{ arLicencias.fechaHasta |date("Y/m/d")  }}</td>
                            <td style="text-align: right">{{ arLicencias.cantidad | number_format(0, '.', ',') }}</td>
                            <td>{% if arLicencias.afectaTransporte == 1 %} SI {% else %} NO {% endif %}</td>                            
                            <td>{{ arLicencias.comentarios }}</td>
                        </tr>
                    {% endfor %}
                </table>
                <div class="btn-toolbar" style="float: left">
                    {{ knp_pagination_render(arLicencias) }}
                </div>
            </div>

           <div class="tab-pane" id="procesosDisciplinarios">
                <br />
                    <table class="table table-striped table-bordered table-condensed">
                        <tr>
                            <th>{{ knp_pagination_sortable(arDisciplinarios, 'CÓDIGO', 'e.codigoDisciplinarioPk') }}</th>
                            <th>FECHA</th>
                            <th>CENTRO CENTRO</th>
                            <th>IDENTIFICACIÓN</th>
                            <th>NOMBRE</th>
                            <th>CARGO</th>
                            <th>PROCESO</th>
                            <th>CAUSAL</th>
                        </tr>
                        {% for arDisciplinarios in arDisciplinarios %}
                            <tr>
                                <td><input type="hidden" name="LblCodigo[]" value="{{ arDisciplinarios.codigoDisciplinarioPk }}">{{ arDisciplinarios.codigoDisciplinarioPk }} </td>
                                <td>{{ arDisciplinarios.fecha |date("Y/m/d")  }}</td>
                                <td>{{ arDisciplinarios.centroCostoRel.nombre }}</td>
                                <td>{{ arDisciplinarios.empleadoRel.numeroIdentificacion  }}</td>
                                <td>{{ arDisciplinarios.empleadoRel.nombreCorto  }}</td>
                                <td>{{ arDisciplinarios.empleadoRel.cargoDescripcion  }}</td>
                                <td>{{ arDisciplinarios.disciplinarioTipoRel.nombre  }}</td>
                                <td>{{ arDisciplinarios.asunto  }}</td>
                            </tr>
                        {% endfor %}
                    </table>
                    <div class="btn-toolbar" style="float: left">
                        {{ knp_pagination_render(arDisciplinarios) }}
                    </div>
            </div>
            <div class="tab-pane" id="vacaciones">
                <br />
                <h4>Pago</h4>
                <table class="table table-striped table-bordered table-condensed">
                    <tr>
                        <th>{{ knp_pagination_sortable(arVacaciones, 'CÓDIGO', 'e.codigoVacacionPk') }}</th>
                        <th>DESDE</th>
                        <th>HASTA</th>
                        <th>DIAS</th>
                        <th>VR. DEDUCCIONES</th>
                        <th>TOTAL</th>
                    </tr>
                    {% for arVacaciones in arVacaciones %}
                        <tr>
                            <td><input type="hidden" name="LblCodigo[]" value="{{ arVacaciones.codigoVacacionPk }}">{{ arVacaciones.codigoVacacionPk }} </td>
                            <td>{{ arVacaciones.fechaDesdePeriodo |date("Y/m/d")  }}</td>
                            <td>{{ arVacaciones.fechaHastaPeriodo |date("Y/m/d")  }}</td>
                            <td style="text-align: right">{{ arVacaciones.diasVacaciones  }}</td>
                            <td style="text-align: right">{{ arVacaciones.vrDeduccion | number_format(2, '.', ',') }}</td>
                            <td style="text-align: right">{{ arVacaciones.vrVacacion | number_format(2, '.', ',') }}</td>
                        </tr>
                    {% endfor %}
                </table>
                <div class="btn-toolbar" style="float: left">
                    {{ knp_pagination_render(arVacaciones) }}
                </div>
                <div class="btn-toolbar" style="float: right">
                    <div class="btn-group">
                        
                    </div>
                </div>
                <br /><br />
                
                <div class="btn-toolbar" style="float: right">
                    <div class="btn-group">                       
                    </div>
                </div>
            </div>
            <div class="tab-pane" id="estudios">
                <br />
                    <table class="table table-striped table-bordered table-condensed">
                        <tr>
                            <th>{{ knp_pagination_sortable(arEmpleadoEstudios, 'CÓDIGO', 'e.codigoEmpleadoEstudioPk') }}</th>
                            <th>ESTUDIO</th>
                            <th>INSTITUCIÓN</th>
                            <th>CIUDAD</th>
                            <th>TÍTULO OBTENIDO</th>
                            <th></th>
                        </tr>
                        {% for arEmpleadoEstudios in arEmpleadoEstudios %}
                            <tr>
                                <td><input type="hidden" name="LblCodigo[]" value="{{ arEmpleadoEstudios.codigoEmpleadoEstudioPk }}">{{ arEmpleadoEstudios.codigoEmpleadoEstudioPk }} </td>
                                <td>{{ arEmpleadoEstudios.empleadoEstudioTipoRel.nombre  }}</td>
                                <td>{{ arEmpleadoEstudios.institucion  }}</td>
                                <td>{{ arEmpleadoEstudios.ciudadRel.nombre  }}</td>
                                <td>{{ arEmpleadoEstudios.titulo  }}</td>
                            </tr>
                        {% endfor %}
                    </table>
                <div class="btn-toolbar" style="float: left">
                    {{ knp_pagination_render(arEmpleadoEstudios) }}
                </div>
            </div>

            <div class="tab-pane" id="familia">
                <br />
                <table class="table table-striped table-bordered table-condensed">
                    <tr>
                        <th>{{ knp_pagination_sortable(arEmpleadoFamilia, 'CÓDIGO', 'e.codigoEmpleadoFamiliaPk') }}</th>
                        <th>PARENTESCO</th>
                        <th>NOMBRES Y APELLIDOS</th>
                        <th>EPS</th>
                        <th>CAJA COMPENSACIÓN</th>
                        <th>FECHA NACIMIENTO</th>
                        <th>OCUPACIÓN</th>
                        <th>TELÉFONO</th>
                    </tr>
                    {% for arEmpleadoFamilia in arEmpleadoFamilia%}
                        <tr>
                            <td><input type="hidden" name="LblCodigo[]" value="{{ arEmpleadoFamilia.codigoEmpleadoFamiliaPk }}">{{ arEmpleadoFamilia.codigoEmpleadoFamiliaPk }} </td>
                            <td>{{ arEmpleadoFamilia.empleadoFamiliaParentescoRel.nombre  }}</td>
                            <td>{{ arEmpleadoFamilia.nombres  }}</td>
                            <td>{{ arEmpleadoFamilia.entidadSaludRel.nombre  }}</td>
                            <td>{{ arEmpleadoFamilia.entidadCajaRel.nombre  }}</td>
                            <td>{{ arEmpleadoFamilia.fechaNacimiento | date('Y/m/d')  }}</td>
                            <td>{{ arEmpleadoFamilia.ocupacion  }}</td>
                            <td>{{ arEmpleadoFamilia.telefono  }}</td>
                        </tr>
                    {% endfor %}
                </table>
                <div class="btn-toolbar" style="float: left">
                    {{ knp_pagination_render(arEmpleadoFamilia) }}
                </div>
            </div>

            <div class="tab-pane" id="dotacion">
                <br />
                <table class="table table-striped table-bordered table-condensed">
                    <tr>
                        <th>{{ knp_pagination_sortable(arEmpleadoDotacion, 'CÓDIGO', 'e.codigoEmpleadoDotacionPk') }}</th>
                        <th>FECHA</th>
                        <th>NÚMERO INTERNO REFERENCIA</th>
                        <th>COMENTARIOS</th>
                    </tr>
                    {% for arEmpleadoDotacion in arEmpleadoDotacion%}
                        <tr>
                            <td><input type="hidden" name="LblCodigo[]" value="{{ arEmpleadoDotacion.codigoDotacionPk }}">{{ arEmpleadoDotacion.codigoDotacionPk }} </td>
                            <td>{{ arEmpleadoDotacion.fecha | date('Y/m/d')  }}</td>
                            <td>{{ arEmpleadoDotacion.codigoInternoReferencia  }}</td>
                            <td>{{ arEmpleadoDotacion.comentarios }}</td>
                        </tr>
                    {% endfor %}
                </table>
                <div class="btn-toolbar" style="float: left">
                    {{ knp_pagination_render(arEmpleadoDotacion) }}
                </div>
            </div>
        </div>
        <div class="btn-toolbar" style="float:left">
            <div class="btn-group">
                <a class="btn btn-default btn-sm" href="{{ path('brs_rhu_consultas_empleado') }}" style="float:left">Volver</a>
            </div>
        </div>
        <br /><br />
        {{ form_rest(form) }}
        {{ form_end(form) }}
    </div>
{% endblock %}
